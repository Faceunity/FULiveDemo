# FUNama SDK v6.0.0 更新文档

## 更新日志

- 优化人脸检测，提高检测率，提高性能。
- 美颜滤镜优化。
- 海报换脸(人脸融合)效果优化。
- 背景分割分割精度优化。
- 舌头跟踪trackface逻辑支持，Getfaceinfo支持。
- 新增Avatar捏脸功能，需FUEditor 6.0.0以上。
- 新增质感美颜功能。
- 修复mebedtls符号冲突问题。

## 新增功能介绍
### 质感美颜功能
#### 功能概述

质感美颜方案是一套更为精致高效的美颜解决方案，包含磨皮、美型、滤镜、美妆4大模块，提供60+套丰富素材库，支持客户任意切换风格与效果变化。 

#### 接口说明
#### 备注

### Avatar捏脸功能
#### 功能概述
虚拟角色支持捏脸功能，通过使用FUEditor 6.0.0模板facepup生成的bundle，在客户端调节对应参数，可以实现用户对脸型，发型，唇色等部位自定义，生成和保存用户想要的虚拟形象的功能。且该虚拟形象可以通过引擎实时根据人脸驱动，做出和人脸同步的表情。
#### 接口说明
加载制作好的捏脸道具后，可以设置以下参数进行捏脸。
##### 进入捏脸状态
```C
//进入捏脸状态
fuItemSetParamd(1,"enter_facepup",1)
```
##### 清除全部捏脸参数
```C
//清除全部捏脸参数
fuItemSetParamd(1,"clear_facepup",1)
```
##### 捏脸
```C
//设置第一个捏脸属性“大眼”的权值，范围[0-1]。这里param对应的就是第几个捏脸属性，从1开始。
fuItemSetParamd(1,"\{\"name\":\"facepup\",\"param\":\"1\"\}",1);

//设置第二个捏脸属性“尖下巴”的权值，范围[0-1]。这里param对应的就是第几个捏脸属性，从1开始。
fuItemSetParamd(1,"\{\"name\":\"facepup\",\"param\":\"2\"\}",0.5);
```
##### 保存或退出捏脸
二选一即可
```C
//1. 直接退出捏脸状态，不保存当前捏脸状态，进入跟踪状态。使用上一次捏脸，进行人脸表情跟踪。
fuItemSetParamd(1,"quit_facepup",1)
//2. 触发保存捏脸，并退出捏脸状态，进入跟踪状态。耗时操作，必要时设置。
fuItemSetParamd(1,"need_recompute_facepup",1);
```

#### 备注
具体资源制作要求，详询技术支持。

